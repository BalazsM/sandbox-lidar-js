<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Lidar simulation</title>

		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.4/font/bootstrap-icons.css">
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.2/p5.min.js"></script>
		
		<link rel="stylesheet" type="text/css" href="style.css">
    	<script src="js/config.js"></script>
    	<script src="js/controller.js"></script>
		<script src="js/intersect.js"></script>
    	<script src="js/entitymap.js"></script>
    	<script src="js/sensor.js"></script>
    	<script src="js/entity.js"></script>
    	<script src="js/obstacle.js"></script>
		<script src="js/simulation.js"></script>
		<script src="js/view.js"></script>
    	<script src="js/index.js"></script>
	</head>
	<body class="bg-light overflow-hidden">
		<div id="workspace" class="z-0"></div>

		<div class="d-flex flex-column flex-shrink-0 m-2 ms-auto h-100 z-1 card opacity-75" style="width: 400px;">
			<div class="card-body">
				<span class="display-6">Lane follower</span>

				<div class="d-flex justify-content-center m-2">
					<div><a href="https://cubie.hu" class="link-secondary m-2">2023 cuBie</a></div>
					<div><a href="https://github.com/BalazsM/sandbox-lanefollower-js" class="link-primary m-2">source code</a></div>
				</div>

				<table class="table table-sm table-hover">
					<tr>
						<td colspan="3"><b>Control</b></td>
					</tr>
					<tr>
						<td>Control by</td>
						<td id="controller" class="text-end" colspan="2">
							<input type="radio" id="activeController0" class="btn-check" name="activeController" onclick="controllerPool.setActiveController(0);"/>
							<label for="activeController0" class="btn btn-sm">
								<i class="bi bi-keyboard"></i>
							</label>

							<input type="radio" id="activeController1" class="btn-check" name="activeController" onclick="controllerPool.setActiveController(1);"/>
							<label for="activeController1" class="btn btn-sm">
								<i class="bi bi-mouse"></i>
							</label>

							<input type="radio" id="activeController2" class="btn-check" name="activeController" onclick="controllerPool.setActiveController(2);"/>
							<label for="activeController2" class="btn btn-sm">
								<i class="bi bi-controller"></i>
							</label>
						</td>							
					</tr>
					<tr>
						<td colspan="3"><b>Stats</b></td>
					</tr>
					<tr>
						<td>FPS</td>
						<td></td>
						<td id="simulationFPSOutput" class="text-end"></td>
					</tr>
					<tr>
						<td colspan="3"><b>Entity</b></td>
					</tr>
					<tr>
						<td>Position</td>
						<td id="entityPositionOutput" colspan="2" class="text-end"></td>
					</tr>
					<tr>
						<td>Sensors count</td>
						<td><input type="range" id="entitySensorsCountInput" class="form-range" min="1" max="720" value="360" step="1"></td>
						<td id="entitySensorsCountOutput" class="text-end"></td>
					</tr>
					<tr>
						<td>Sensors coverage</td>
						<td><input type="range" id="entitySensorsCoverageInput" class="form-range" min="30" max="360" value="360" step="1"></td>
						<td id="entitySensorsCoverageOutput" class="text-end"></td>
					</tr>
					<tr>
						<td>Sensors range</td>
						<td><input type="range" id="entitySensorsRangeInput" class="form-range" min="1" max="500" value="500" step="1"></td>
						<td id="entitySensorsRangeOutput" class="text-end"></td>
					</tr>
					<tr>
						<td colspan="3"><b>Simulation options</b></td>
					</tr>
					<tr>
						<td>Grid step</td>
						<td><input type="range" id="simulationGridStepInput" class="form-range" min="2" max="100" value="12" step="1"></td>
						<td id="simulationGridStepOutput" class="text-end"></td>
					</tr>
					<tr>
						<td colspan="2">Moving obstacles</td>
						<td class="text-end"><input type="checkbox" id="simulationMovingObstaclesInput" checked></td>
					</tr>
					<tr>
						<td colspan="3"><b>Display options</b></td>
					</tr>
					<tr>
						<td>Zoom</td>
						<td><input type="range" id="zoomInput" class="form-range" min="0.1" max="2" value="1" step="0.1"></td>
						<td id="zoomOutput" class="text-end"></td>
					</tr>
					<tr>
						<td colspan="2">Show grid</td>
						<td class="text-end"><input type="checkbox" id="showGridInput" checked></td>
					</tr>
					<tr>
						<td colspan="2">Show compass</td>
						<td class="text-end"><input type="checkbox" id="showCompassInput" checked></td>
					</tr>
					<tr>
						<td colspan="2">Show obstacles</td>
						<td class="text-end"><input type="checkbox" id="showObstaclesInput" checked></td>
					</tr>
					<tr>
						<td colspan="2">Show map</td>
						<td class="text-end"><input type="checkbox" id="showMapInput" checked></td>
					</tr>
					<tr>
						<td colspan="2">Show sensors</td>
						<td class="text-end"><input type="checkbox" id="showSensorsInput" checked></td>
					</tr>
				</table> 
			</div>
		</div>
	</body>
</html>
